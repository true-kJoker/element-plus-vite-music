import{C as O,V as I,W as J,X as V,Y as B,G as R,_ as z,I as A,a as D,e as l,j as o,k as j,l as r,F as q,f as F,g as m,i as a,x as G,y as P,J as K,q as W,v as T,r as k,K as X,L as h,p as v,M,N as Y,O as H,P as Q}from"./index.fc3f095a.js";/* empty css             *//* empty css                   */import{b as Z}from"./table-column.ef6e0896.js";const U=O("my",{state:()=>({artistSublis:[],mvSublis:[],userSubcount:[],userPlaylist:[],id:2291916786,currentPage:1,pageSize:10,songsList:[],playList:[]}),getters:{},actions:{async getArtistSublist(){this.artistSublis=await I()},async getMvsublist(){this.mvSublis=await J()},async getUserSubcount(){this.userSubcount=await V()},async getUserPlaylist(){this.userPlaylist=await B(1503855185),this.playList=this.userPlaylist[0]},async getPlayListTrackAll(){this.songsList=await R(this.id,this.pageSize,(this.currentPage-1)*this.pageSize)}}});const ee={__name:"Aside",setup(x){const e=U(),{userPlaylist:i}=A(e);D(()=>{e.getArtistSublist(),e.getMvsublist(),e.getUserSubcount(),e.getUserPlaylist(),e.getPlayListTrackAll()});const _=(d,g)=>{console.log(d,g,e.id),e.id=d,e.playList=e.userPlaylist[g],e.getPlayListTrackAll()};return(d,g)=>{const f=W,b=T;return l(!0),o(q,null,j(r(i),(c,S)=>(l(),F(b,{class:K([{"active-rank":c.id===r(e).id},"mb-4 rounded-lg cursor-pointer text-center"]),onClick:L=>_(c.id,S)},{default:m(()=>[a(f,{src:c.coverImgUrl,style:{width:"45px",height:"45px"},class:"float-left mr-4 rounded-lg -translate-y-3"},null,8,["src"]),G(P(c.name),1)]),_:2},1032,["class","onClick"]))),256)}}};var te=z(ee,[["__scopeId","data-v-61266753"]]);const se=["onClick"],ae={key:1},le={key:0,class:"mr-3 iconfont icon-add",title:"\u6DFB\u52A0\u5230\u5217\u8868"},ne={key:1,class:"iconfont icon-collect",title:"\u6536\u85CF"},oe={key:2},re={__name:"Main",setup(x){const e=U(),{currentPage:i,pageSize:_,songsList:d,playList:g}=A(e),f=k(!1),b=k(!1),c=k(!1),S=async s=>{e.pageSize=s,e.getPlayListTrackAll()},L=async s=>{e.currentPage=s,e.getPlayListTrackAll()},N=(s,n,u,C)=>{let p=JSON.parse(JSON.stringify(e.songsList));for(let y=0;y<p.length;y++){const t=p[y];t.id==s.id?t.hoverFlag=!0:t.hoverFlag=!1}e.songsList=JSON.parse(JSON.stringify(p))},E=()=>{for(let s=0;s<e.songsList.length;s++){const n=e.songsList[s];n.hoverFlag=!1}},w=X(),$=s=>{w.id=s,w.getSongUrl()};return(s,n)=>{const u=Y,C=H,p=Q,y=T;return l(),F(y,null,{default:m(()=>[a(C,{data:r(d),onCellMouseEnter:N,onCellMouseLeave:E,stripe:"","row-style":{height:"60px"}},{default:m(()=>[a(u,{type:"index",label:"\u5E8F\u53F7",width:"100"},{default:m(t=>[t.row.hoverFlag?(l(),o("i",{key:0,class:"iconfont icon-play",title:"\u64AD\u653E",onClick:de=>$(t.row.id)},null,8,se)):h("",!0),t.row.hoverFlag?h("",!0):(l(),o("div",ae,[v("span",null,P(t.$index+1),1)]))]),_:1}),a(u,{prop:"name",label:"\u6B4C\u66F2"}),a(u,{prop:"ar[0].name",label:"\u6B4C\u624B"}),a(u,{prop:"al.name",label:"\u4E13\u8F91"}),a(u,{label:"\u65F6\u957F",width:"100"},{default:m(t=>[t.row.hoverFlag?(l(),o("i",le)):h("",!0),t.row.hoverFlag?(l(),o("i",ne)):h("",!0),t.row.hoverFlag?h("",!0):(l(),o("div",oe,[v("span",null,P(r(Z)(t.row.dt/1e3)),1)]))]),_:1})]),_:1},8,["data"]),a(p,{currentPage:r(i),"onUpdate:currentPage":n[0]||(n[0]=t=>M(i)?i.value=t:null),"page-size":r(_),"onUpdate:page-size":n[1]||(n[1]=t=>M(_)?_.value=t:null),"page-sizes":[10,20,50,100],small:f.value,disabled:c.value,background:b.value,layout:"total,sizes, prev, pager, next",total:r(g).trackCount||100,onSizeChange:S,onCurrentChange:L},null,8,["currentPage","page-size","small","disabled","background","total"])]),_:1})}}};var ie=z(re,[["__scopeId","data-v-523998d8"]]);const ce={class:"flex mt-10 space-x-4"},ue={class:"w-70%"},_e={class:"w-30%"},me={__name:"index",setup(x){return(e,i)=>(l(),o("div",ce,[v("div",ue,[a(ie)]),v("div",_e,[a(te)])]))}};export{me as default};
